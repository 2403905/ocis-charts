[caption=]
.Values for the ocis Helm Chart
[width="100%",cols="~,~,~,~",options="header"]
|===
| Key
| Type
| Default
| Description
| autoscaling.enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables autoscaling. When set to `true`, `replicas` is no longer applied.
| autoscaling.maxReplicas
a| [subs=-attributes]
+int+
a| [subs=-attributes]
`10`
| Sets maximum replicas for autoscaling.
| autoscaling.metrics
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`[]`
| Metrics to use for autoscaling
| autoscaling.minReplicas
a| [subs=-attributes]
+int+
a| [subs=-attributes]
`3`
| Sets minimum replicas for autoscaling.
| deploymentStrategy
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{"type":"RollingUpdate"}`
| Deployment strategy.
| externalDomain
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"ocis.owncloud.test"`
| Domain where oCIS is reachable for the outside world
| extraLabels
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Custom labels for all manifests
| extraResources
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`[]`
| Extra resources to be included.
| features.appsIntegration.enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables the apps integration.
| features.appsIntegration.wopiIntegration.officeSuites[0].enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables the office suite.
| features.appsIntegration.wopiIntegration.officeSuites[0].iconURI
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"https://collabora.owncloud.test/favicon.ico"`
| URI for the icon of the office suite. Will be displayed to the users.
| features.appsIntegration.wopiIntegration.officeSuites[0].insecure
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Disables SSL certificate checking for connections to the office suites http api. Not recommended for production installations.
| features.appsIntegration.wopiIntegration.officeSuites[0].name
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"Collabora"`
| Name of the office suite. Will be displayed to the users.
| features.appsIntegration.wopiIntegration.officeSuites[0].uri
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"https://collabora.owncloud.test"`
| URI of the office suite.
| features.appsIntegration.wopiIntegration.officeSuites[1].enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables the office suite.
| features.appsIntegration.wopiIntegration.officeSuites[1].iconURI
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"https://onlyoffice.owncloud.test/web-apps/apps/documenteditor/main/resources/img/favicon.ico"`
| URI for the icon of the office suite. Will be displayed to the users.
| features.appsIntegration.wopiIntegration.officeSuites[1].insecure
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Disables SSL certificate checking for connections to the office suites http api. Not recommended for production installations.
| features.appsIntegration.wopiIntegration.officeSuites[1].name
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"OnlyOffice"`
| Name of the office suite. Will be displayed to the users.
| features.appsIntegration.wopiIntegration.officeSuites[1].uri
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"https://onlyoffice.owncloud.test"`
| URI of the office suite.
| features.appsIntegration.wopiIntegration.wopiServerURI
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"https://wopiserver.owncloud.test"`
| URL of the [cs3org/wopiserver](https://github.com/cs3org/wopiserver). Can be deployed [with this Chart](https://artifacthub.io/packages/helm/cs3org/wopiserver).
| features.basicAuthentication
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enable basic authentication. Not recommended for production installations.
| features.demoUsers
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Create demo users on the first startup. Not recommended for production installations.
| features.emailNotifications
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables email notifications. This features needs the secret from notificationsSmtpSecretRef present.
| image.pullPolicy
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"IfNotPresent"`
| Image pull policy
| image.repository
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"owncloud/ocis"`
| Image repository
| image.sha
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`""`
| Image sha / digest (optional).
| image.tag
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"2.0.0-beta.5"`
| Image tag.
| ingress.annotations
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Ingress annotations.
| ingress.enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables the Ingress.
| ingress.ingressClassName
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Ingress class to use. Uses the default ingress class if not set.
| ingress.labels
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Labels for the ingress.
| ingress.tls
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`[]`
| Ingress TLS configuration.
| insecure.ocisHttpApiInsecure
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Disables SSL certificate checking for connections to the oCIS http apis. Not recommended for production installations.
| insecure.oidcIdpInsecure
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Disables SSL certificate checking for connections to the openID connect identity provider. Not recommended for production installations.
| logging.color
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"false"`
| Activates colorized log output. Not recommended for production installations.
| logging.level
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"error"`
| Log level. Valid values: `panic`, `fatal`, `error`, `warn`, `info`, `debug`, `trace`.
| logging.pretty
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"false"`
| Activates pretty log output. Not recommended for production installations.
| namespaceOverride
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Override the deployment namespace of all resources in this Helm chart.
| replicas
a| [subs=-attributes]
+int+
a| [subs=-attributes]
`1`
| Number of replicas for each scalable service. Has no effect when `autoscaling.enabled` is set to `true`.
| resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Resources to apply to all services.
| secretRefs.adminUserSecretRef
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"admin-user"`
| Reference to an existing admin user secret (see xref:{secrets}[Secrets])
| secretRefs.idpSecretRef
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"idp-secrets"`
| Reference to an existing IDP secret (see xref:{secrets}[Secrets])
| secretRefs.jwtSecretRef
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"jwt-secret"`
| Reference to an existing JWT secret (see xref:{secrets}[Secrets])
| secretRefs.ldapCaRef
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"ldap-ca"`
| Reference to an existing LDAP certificate authority secret (see xref:{secrets}[Secrets])
| secretRefs.ldapCertRef
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"ldap-cert"`
| Reference to an existing LDAP cert secret (see xref:{secrets}[Secrets])
| secretRefs.ldapSecretRef
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"ldap-bind-secrets"`
| Reference to an existing LDAP bind secret (see xref:{secrets}[Secrets])
| secretRefs.machineAuthApiKeySecretRef
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"machine-auth-api-key"`
| Reference to an existing machine auth api key secret (see xref:{secrets}[Secrets])
| secretRefs.notificationsSmtpSecretRef
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"notifications-smtp-secret"`
| Reference to an existing SMTP email server settings secret (see xref:{secrets}[Secrets])
| secretRefs.storageSystemJwtSecretRef
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"storage-system-jwt-secret"`
| Reference to an existing storage-system JWT secret (see xref:{secrets}[Secrets])
| secretRefs.storageSystemSecretRef
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"storage-system"`
| Reference to an existing storage-system secret (see xref:{secrets}[Secrets])
| secretRefs.thumbnailsSecretRef
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"thumbnails-transfer-secret"`
| Reference to an existing thumbnails transfer secret (see xref:{secrets}[Secrets])
| secretRefs.transferSecretSecretRef
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"transfer-secret"`
| Reference to an existing transfer secret (see xref:{secrets}[Secrets])
| securityContext.fsGroup
a| [subs=-attributes]
+int+
a| [subs=-attributes]
`1000`
| File system group for all volumes.
| securityContext.runAsGroup
a| [subs=-attributes]
+int+
a| [subs=-attributes]
`1000`
| Group ID that all processes within any containers will run with.
| securityContext.runAsUser
a| [subs=-attributes]
+int+
a| [subs=-attributes]
`1000`
| User ID that all processes within any containers will run with.
| services.idm.persistence.accessModes
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`["ReadWriteMany"]`
| Persistent volume access modes. Needs to be `["ReadWriteMany"]` when scaling this service beyond one instance.
| services.idm.persistence.annotations
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume annotations.
| services.idm.persistence.enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables persistence. Needs to be enabled on production installations. If not enabled, pod restarts will lead to data loss. Also scaling this service beyond one instance is not possible if the service instances don't share the same storage.
| services.idm.persistence.existingClaim
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Use an existing PersistentVolumeClaim for persistence.
| services.idm.persistence.finalizers
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`["kubernetes.io/pvc-protection"]`
| Persistent volume finalizers.
| services.idm.persistence.selectorLabels
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume selector labels.
| services.idm.persistence.size
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"10Gi"`
| Size of the persistent volume.
| services.idm.persistence.storageClassName
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Storage class to use. Uses the default storage class if not set.
| services.nats.persistence.accessModes
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`["ReadWriteMany"]`
| Persistent volume access modes. Needs to be `["ReadWriteMany"]` when scaling this service beyond one instance.
| services.nats.persistence.annotations
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume annotations.
| services.nats.persistence.enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables persistence. Needs to be enabled on production installations. If not enabled, pod restarts will lead to data loss. Also scaling this service beyond one instance is not possible if the service instances don't share the same storage.
| services.nats.persistence.existingClaim
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Use an existing PersistentVolumeClaim for persistence.
| services.nats.persistence.finalizers
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`["kubernetes.io/pvc-protection"]`
| Persistent volume finalizers.
| services.nats.persistence.selectorLabels
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume selector labels.
| services.nats.persistence.size
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"10Gi"`
| Size of the persistent volume.
| services.nats.persistence.storageClassName
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Storage class to use. Uses the default storage class if not set.
| services.search.persistence.accessModes
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`["ReadWriteMany"]`
| Persistent volume access modes. Needs to be `["ReadWriteMany"]` when scaling this service beyond one instance.
| services.search.persistence.annotations
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume annotations.
| services.search.persistence.enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables persistence. Needs to be enabled on production installations. If not enabled, pod restarts will lead to data loss. Also scaling this service beyond one instance is not possible if the service instances don't share the same storage.
| services.search.persistence.existingClaim
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Use an existing PersistentVolumeClaim for persistence.
| services.search.persistence.finalizers
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`["kubernetes.io/pvc-protection"]`
| Persistent volume finalizers.
| services.search.persistence.selectorLabels
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume selector labels.
| services.search.persistence.size
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"10Gi"`
| Size of the persistent volume.
| services.search.persistence.storageClassName
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Storage class to use. Uses the default storage class if not set.
| services.storageSystem.persistence.accessModes
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`["ReadWriteMany"]`
| Persistent volume access modes. Needs to be `["ReadWriteMany"]` when scaling this service beyond one instance.
| services.storageSystem.persistence.annotations
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume annotations.
| services.storageSystem.persistence.enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables persistence. Needs to be enabled on production installations. If not enabled, pod restarts will lead to data loss. Also scaling this service beyond one instance is not possible if the service instances don't share the same storage.
| services.storageSystem.persistence.existingClaim
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Use an existing PersistentVolumeClaim for persistence.
| services.storageSystem.persistence.finalizers
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`["kubernetes.io/pvc-protection"]`
| Persistent volume finalizers.
| services.storageSystem.persistence.selectorLabels
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume selector labels.
| services.storageSystem.persistence.size
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"5Gi"`
| Size of the persistent volume.
| services.storageSystem.persistence.storageClassName
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Storage class to use. Uses the default storage class if not set.
| services.storageUsers.persistence.accessModes
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`["ReadWriteMany"]`
| Persistent volume access modes. Needs to be `["ReadWriteMany"]` when scaling this service beyond one instance.
| services.storageUsers.persistence.annotations
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume annotations.
| services.storageUsers.persistence.enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables persistence. Needs to be enabled on production installations. If not enabled, pod restarts will lead to data loss. Also scaling this service beyond one instance is not possible if the service instances don't share the same storage.
| services.storageUsers.persistence.existingClaim
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Use an existing PersistentVolumeClaim for persistence.
| services.storageUsers.persistence.finalizers
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`["kubernetes.io/pvc-protection"]`
| Persistent volume finalizers.
| services.storageUsers.persistence.selectorLabels
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume selector labels.
| services.storageUsers.persistence.size
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"50Gi"`
| Size of the persistent volume.
| services.storageUsers.persistence.storageClassName
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Storage class to use. Uses the default storage class if not set.
| services.storageUsers.storageBackend.driver
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"ocis"`
| Configures the storage driver. Possible values are "ocis" and "s3ng". The oCIS driver stores all data in the persistent volume if persistence is enabled. The S3NG driver stores all metadata in the persistent volume and uploads blobs to s3 if persistence is enabled.
| services.storageUsers.storageBackend.driverConfig.s3ng.accessKey
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"lorem-ipsum"`
| S3 access key to use for the S3NG driver. Only used if driver is set to "s3ng".
| services.storageUsers.storageBackend.driverConfig.s3ng.bucket
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"example-bucket"`
| - S3 bucket to use for the S3NG driver. Only used if driver is set to "s3ng".
| services.storageUsers.storageBackend.driverConfig.s3ng.endpoint
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"https://localhost:1234"`
| S3 endpoint to use for the S3NG driver. Only used if driver is set to "s3ng".
| services.storageUsers.storageBackend.driverConfig.s3ng.region
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"default"`
| S3 region to use for the S3NG driver. Only used if driver is set to "s3ng".
| services.storageUsers.storageBackend.driverConfig.s3ng.secretKey
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"lorem-ipsum"`
| S3 secret key to use for the S3NG driver. Only used if driver is set to "s3ng".
| services.store.persistence.accessModes
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`["ReadWriteMany"]`
| Persistent volume access modes. Needs to be `["ReadWriteMany"]` when scaling this service beyond one instance.
| services.store.persistence.annotations
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume annotations.
| services.store.persistence.enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables persistence. Needs to be enabled on production installations. If not enabled, pod restarts will lead to data loss. Also scaling this service beyond one instance is not possible if the service instances don't share the same storage.
| services.store.persistence.existingClaim
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Use an existing PersistentVolumeClaim for persistence.
| services.store.persistence.finalizers
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`["kubernetes.io/pvc-protection"]`
| Persistent volume finalizers.
| services.store.persistence.selectorLabels
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume selector labels.
| services.store.persistence.size
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"5Gi"`
| Size of the persistent volume.
| services.store.persistence.storageClassName
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Storage class to use. Uses the default storage class if not set.
| services.thumbnails.persistence.accessModes
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`["ReadWriteMany"]`
| Persistent volume access modes. Needs to be `["ReadWriteMany"]` when scaling this service beyond one instance or persistence needs to be disabled.
| services.thumbnails.persistence.annotations
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume annotations.
| services.thumbnails.persistence.enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables persistence. Is recommended to be enabled on production installations. If enabled, generated thumbnails are cached on this volume and available across pod restarts and service instances. If not enabled, thumbnail generation might lead to higher CPU usage.
| services.thumbnails.persistence.existingClaim
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Use an existing PersistentVolumeClaim for persistence.
| services.thumbnails.persistence.finalizers
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`[]`
| Persistent volume finalizers.
| services.thumbnails.persistence.selectorLabels
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume selector labels.
| services.thumbnails.persistence.size
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"10Gi"`
| Size of the persistent volume.
| services.thumbnails.persistence.storageClassName
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Storage class to use. Uses the default storage class if not set.
|===
